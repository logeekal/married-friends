{"version":3,"sources":["webpack:///../packages/mf-blog-theme/src/utils/index.ts","webpack:///../packages/mf-blog-theme/src/components/Typography/index.tsx","webpack:///../packages/mf-blog-theme/src/sections/articles/card/index.tsx","webpack:///../packages/mf-blog-theme/src/sections/articles/grid/index.tsx","webpack:///../packages/mf-blog-theme/src/templates/index.tsx"],"names":["defaultDateFormatOption","day","year","month","makePostSlug","post","baseCategory","categories","nodes","slug","currCategory","parent","Text","children","className","sx","spanProps","color","fontSize","AccentText","cursor","Card","props","type","articleStyle","restProps","console","log","excerpt","date","dateInString","dateFormatOption","Date","result","Intl","DateTimeFormat","formatToParts","part","value","getFormattedDate","display","flexDirection","height","flex","minWidth","backgroundColor","margin","href","src","featuredImage","mediaItemUrl","alt","altText","width","padding","h2","marginBottom","dangerouslySetInnerHTML","__html","title","textTransform","fontWeight","marginTop","name","html","document","span","createElement","innerHTML","innerText","extractTextfromHTML","justifyContent","SocialIcons","includeSearch","socialProfiles","target","ArticleGrid","React","useState","maxCardHeight","setMaxCardHeight","articleHeights","setArticleHeights","heights","setHeight","gridRef","useRef","useLayoutEffect","current","minorCards","querySelectorAll","maxHeight","Array","from","reduce","prevValue","currentElement","Math","max","clientHeight","map","card","firstChild","parentElement","querySelector","cardHeights","articles","ref","flexWrap","article","index","key","data-height","data-artHeight","data-diff","Home","posts","pageContext","minMargin","window","Caraousel","sliderHeightInpx","border","About","Inspiration","SubscribeMain"],"mappings":"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","file":"component---packages-mf-blog-theme-src-templates-index-tsx-741ef2e8cd57bd4448c3.js","sourcesContent":["import { Post } from \"../types/wp-graphql.types\";\n\nlet defaultDateFormatOption = {\n  day: \"2-digit\",\n  year: \"numeric\",\n  month: \"long\"\n};\n\ninterface IFormattedDate {\n  day: number;\n  month: string;\n  year: number;\n}\n\nexport function extractTextfromHTML(html) {\n  if (document) {\n    let span = document.createElement(\"span\");\n    span.innerHTML = html;\n    return span.innerText;\n  }\n}\n\nexport function getFormattedDate(\n  dateInString: string | number | Date,\n  dateFormatOption = defaultDateFormatOption\n): IFormattedDate {\n  let date: Date;\n  if (!dateInString) {\n    date = new Date();\n  } else {\n    date = new Date(dateInString);\n  }\n\n  let dateFormat = new Intl.DateTimeFormat(\"en\", dateFormatOption);\n\n  let formattedParts: Array<{\n    type: string;\n    value: string;\n  }> = dateFormat.formatToParts(date);\n  let result: IFormattedDate = {\n    day: 0,\n    month: \"\",\n    year: 0\n  };\n  for (let part of formattedParts) {\n    if (part.type in result) {\n      result[part.type] = part.value;\n    }\n  }\n\n  return result;\n}\n\nexport function makePostSlug(post: Post): string {\n  const baseCategory = post.categories.nodes[0];\n  let slug = `/${baseCategory.slug}`;\n  let currCategory = baseCategory;\n  while (currCategory.parent) {\n    slug += `/${currCategory.parent.slug}`;\n    currCategory = currCategory.parent;\n  }\n\n  return `${slug}/${post.slug}`;\n}\n","/* @jsx jsx */\n\nimport React from \"react\";\nimport { jsx, Styled, SxStyleProp } from \"theme-ui\";\n\ntype TypographyProps = React.PropsWithChildren<{\n  className?: string;\n  sx?: SxStyleProp;\n}>;\n\ninterface ArticleHeaderProps extends TypographyProps {\n  level: \"1\" | \"2\" | \"3\";\n  restProps?: React.HTMLProps<HTMLHeadingElement>;\n}\n\nexport const ArticleHeader: React.FC<ArticleHeaderProps> = ({\n  children,\n  level,\n  sx,\n  ...restProps\n}) => {\n  switch (level) {\n    case \"1\":\n      return (\n        <Styled.h1 sx={{ ...sx }} {...restProps}>\n          {children}\n        </Styled.h1>\n      );\n    case \"2\":\n      return (\n        <Styled.h2 sx={{ ...sx }} {...restProps}>\n          {children}\n        </Styled.h2>\n      );\n    case \"3\":\n      return (\n        <Styled.h3 sx={{ ...sx }} {...restProps}>\n          {children}\n        </Styled.h3>\n      );\n    default:\n      return (\n        <Styled.h1 sx={{ ...sx }} {...restProps}>\n          {children}\n        </Styled.h1>\n      );\n  }\n};\n\ninterface TextProps extends TypographyProps {\n  spanProps?: React.HTMLProps<HTMLSpanElement>;\n}\n\nexport const Text: React.FC<TextProps> = ({\n  children,\n  className,\n  sx,\n  ...spanProps\n}) => {\n  return (\n    <span\n      className={`article-normal-text ${className}`}\n      sx={{\n        color: \"secondary\",\n        fontSize: 20,\n        ...sx\n      }}\n      {...spanProps}\n    >\n      {children}\n    </span>\n  );\n};\n\nexport const AccentText: React.FC<TextProps> = ({\n  children,\n  className,\n  sx,\n  ...spanProps\n}) => {\n  return (\n    <span\n      className={`accented-text ${className}`}\n      sx={{\n        color: \"accent\",\n        cursor: \"text\",\n        ...sx\n      }}\n      {...spanProps}\n    >\n      {children}\n    </span>\n  );\n};\n","/** @jsx jsx */\n\nimport React from \"react\";\nimport { jsx, Styled, Link, SxStyleProp } from \"theme-ui\";\nimport { Post } from \"../../../types/wp-graphql.types\";\nimport {\n  extractTextfromHTML,\n  getFormattedDate,\n  makePostSlug\n} from \"../../../utils\";\nimport { AccentText, Text } from \"../../../components/Typography\";\nimport SocialIcons from \"../../../components/SocialIcons\";\n\ninterface CardProps extends React.HTMLProps<HTMLDivElement>{\n  post: Post;\n  type: \"major\" | \"minor\";\n  sx?: SxStyleProp;\n  articleStyle?: React.CSSProperties\n}\n\nconst Card: React.FC<CardProps> = (props: CardProps) => {\n\n  let { post, type, articleStyle, sx, className, ...restProps } = props;\n  console.log(post.excerpt);\n  let date = getFormattedDate(post.date);\n  return (\n    <div\n      className={`card-${type} ${className}`}\n      sx={{\n        display: \"flex\",\n        flexDirection: \"column\",\n        height: \"100%\",\n        flex: type === \"major\" ? \"100%\" : \"1 1 300px\",\n        minWidth: \"100px\",\n        backgroundColor: \"bgCard\",\n        margin: 1,\n        cursor: \"pointer\",\n        ...sx\n      }}\n      {...restProps}\n    >\n      <Link href={makePostSlug(post)}>\n        <div\n          sx={{\n            flex: \"50%\"\n          }}\n        >\n          <img\n            src={post.featuredImage.mediaItemUrl}\n            alt={post.featuredImage.altText}\n            width=\"100%\"\n          />\n        </div>\n\n        <div\n          className=\"card__article\"\n          sx={{\n            backgroundColor: \"bgCard\",\n            padding: type === \"major\" ? 2 : 1,\n            \n          }}\n        >\n          <Styled.h2\n            sx={{\n              padding: \"0px\",\n              margin: \"0px\",\n              marginBottom: 0,\n              color: \"primary\"\n            }}\n            dangerouslySetInnerHTML={{ __html: post.title }}\n          />\n          <AccentText\n            sx={{\n              textTransform: \"uppercase\",\n              fontSize: \"12px\",\n              fontWeight: \"bold\",\n              marginTop: 0,\n              marginBottom: 0\n            }}\n          >\n            <Link href={`/${post.categories.nodes[0].slug}`}>\n              {post.categories.nodes[0].name}\n            </Link>\n            <Text sx={{ fontSize: 0 }}> / </Text>\n            {`${date.day}.${date.month}.${date.year}`}\n          </AccentText>\n          <article sx={{...articleStyle}}>\n            <p>\n              <Text>{extractTextfromHTML(post.excerpt)}</Text>\n            </p>\n          </article>\n          <div\n            className=\"card-footer\"\n            sx={{ display: \"flex\", justifyContent: \"space-between\" }}\n          >\n            <span className=\"footer-left\">\n              <AccentText sx={{ cursor: \"pointer\", fontSize: \"12px\" }}>\n                READ MORE\n              </AccentText>\n            </span>\n            <span className=\"footer-social\">\n              <SocialIcons\n                includeSearch={false}\n                socialProfiles={[\n                  { type: \"share\", name: \"share\", target: \"http://google.com\" }\n                ]}\n                width=\"16px\"\n              />\n            </span>\n          </div>\n        </div>\n      </Link>\n    </div>\n  );\n};\n\nexport default Card;\n","/* @jsx jsx */\n\nimport React from \"react\";\nimport Card from \"../card\";\nimport { Post } from \"../../../types/wp-graphql.types\";\nimport { jsx } from \"theme-ui\";\n\ninterface ArticleGridProps {\n  articles: Post[];\n}\n\nconst ArticleGrid: React.FC<ArticleGridProps> = props => {\n  const [maxCardHeight, setMaxCardHeight] = React.useState(0);\n  const [articleHeights, setArticleHeights] = React.useState<Array<number>>([]);\n  const [heights, setHeight] = React.useState<Array<number>>([]);\n  const gridRef = React.useRef<HTMLDivElement>(null);\n\n  React.useLayoutEffect(() => {\n    if (!gridRef.current) return;\n    console.log(\"===\", gridRef.current);\n    let minorCards: NodeList = gridRef.current.querySelectorAll(\".card-minor\");\n    console.log(\"===minorcard : \", minorCards);\n    const maxHeight = Array.from(minorCards).reduce(\n      (prevValue, currentElement) => {\n        prevValue = Math.max(prevValue, currentElement.clientHeight);\n        return prevValue;\n      },\n      0\n    );\n\n    console.log(`===Max Height is : `, maxHeight);\n\n    let articleHeights = Array.from(minorCards).map(card => {\n      let articleHeight = card.firstChild.parentElement.querySelector(\n        \"article\"\n      );\n      return articleHeight.clientHeight;\n    });\n\n    let cardHeights = Array.from(minorCards).map(card => {\n      return card.clientHeight;\n    });\n\n    console.log(\"===card height: \", cardHeights);\n    console.log(\"===article height :\", articleHeights);\n    setHeight(cardHeights);\n    setArticleHeights(articleHeights);\n    setMaxCardHeight(maxHeight);\n  }, []);\n\n  return (\n    <div\n      className=\"article-grid\"\n      sx={{ display: \"flex\", flexDirection: \"column\" }}\n    >\n      <div className=\"first-article\" sx={{ flex: 1 }}>\n        <Card post={props.articles[0]} type={\"major\"} />\n      </div>\n      <div\n        className=\"rest-grid\"\n        ref={gridRef}\n        sx={{\n          //display: \"inline-grid\",\n          //gridTemplateColumns: \"repeat(auto-fit, minmax(300px, 1fr))\",\n          //alignItems: \"flex-start\",\n          display: \"flex\",\n          flexWrap: \"wrap\"\n        }}\n      >\n        {props.articles.map((article, index) => {\n          return (\n            index > 0 && (\n              <Card\n                key={index}\n                sx={{ flex: \"1 1 300px\" }}\n                post={article}\n                type={index === 0 ? \"major\" : \"minor\"}\n                data-height={heights[index - 1]}\n                data-artHeight={articleHeights[index - 1]}\n                data-diff={maxCardHeight - heights[index - 1]}\n                articleStyle={{\n                  marginBottom: maxCardHeight - heights[index - 1]\n                }}\n              />\n            )\n          );\n        })}\n      </div>\n    </div>\n  );\n};\n\nexport default ArticleGrid;\n","/* @jsx jsx */\n\nimport { jsx, Styled } from \"theme-ui\";\nimport Caraousel from \"responsive-react-image-carousel\";\nimport React from \"react\";\nimport Layout from \"../components/layout\";\nimport Instagram from \"../sections/instagram\";\nimport Inspiration from \"../sections/Inspiration\";\nimport About from \"../sections/About\";\nimport Grid from \"../sections/articles/grid\";\nimport SubscribeMain from \"../sections/subscribe/SubscribeMain\";\nimport { Post } from \"../types/wp-graphql.types\";\n\ninterface HomeProps {\n  pageContext: {\n    posts: Post[];\n  };\n}\n\nfunction Home({ pageContext }): React.ReactFragment {\n  const { posts } = pageContext;\n  console.log(posts);\n  const minMargin = 0;\n  return (\n    <Layout>\n      <div className=\"home__carousel\" sx={{ margin: minMargin + 1 }}>\n        {window &&  document && Caraousel && <Caraousel sliderHeightInpx=\"600\" />}\n      </div>\n      <div\n        className=\"home__container\"\n        sx={{\n          display: \"flex\",\n          flexDirection: \"row\",\n          flexWrap: \"wrap\"\n        }}\n      >\n        <div\n          className=\"home-left__container\"\n          sx={{\n            border: \"0px solid red\",\n            marginTop: 0,\n            marginBottom: 0,\n            flex: 0.7,\n            \"@media only screen and (max-width: 768px)\": {\n              flex: 1,\n              minWidth: \"100%\"\n            }\n          }}\n        >\n          <Grid articles={posts} />\n        </div>\n        <div\n          className=\"home-right__container\"\n          sx={{\n            border: \"0px solid green\",\n            marginTop: 0,\n            marginBottom: 0,\n            flex: 0.3,\n            \"@media only screen and (max-width: 768px)\": {\n              flex: 1,\n              width: \"100%\"\n            }\n          }}\n        >\n          <Instagram />\n          <About />\n          <Inspiration />\n        </div>\n      </div>\n      <SubscribeMain />\n    </Layout>\n  );\n}\n\nexport default Home;\n"],"sourceRoot":""}